<% content_for(:page_title, params[:controller] == "posts" ? "All Posts" : params[:controller].titleize) %>

<section class="post-list divide-y divide-slate-100">
  <% @posts.each do |post| %>
    <%= render post %>
  <% end %>

  <nav>
    <div class="lg:px-8">
      <div class="lg:max-w-4xl">
        <div class="flex items-center justify-between mx-auto px-4 sm:px-6 md:max-w-2xl md:px-4 lg:px-0">
          <div class="-mt-px flex w-0 flex-1">
            <% if @pagy.prev.present? %>
              <%= link_to pagy_url_for(@pagy, @pagy.prev), class: "group inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium link-primary hover:border-pink-500" do %>
                <svg class="mr-3 h-5 w-5 fill-pink-500 group-hover:fill-pink-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path d="M109.3 288L480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288z"/>
                </svg>
                Previous
              <% end %>
            <% else %>
              <span class="select-none inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium text-pink-300">
                <svg class="mr-3 h-5 w-5 fill-pink-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path d="M109.3 288L480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288z"/>
                </svg>
                Previous
              </span>
            <% end %>
          </div>

          <div class="hidden md:-mt-px md:flex">
            <% @pagy.series.each do |page| %>
              <% if page.is_a?(String) # Current page %>
                <span class="select-none inline-flex items-center border-t-2 border-pink-300 px-4 pt-4 text-sm font-medium text-pink-300" aria-current="page"><%= page %></span>
              <% elsif page.is_a?(Integer) # Actual page link %>
                <%= link_to page, pagy_url_for(@pagy, page), class: "inline-flex items-center border-t-2 border-transparent px-4 pt-4 text-sm font-medium link-primary hover:border-pink-500" %>
              <% elsif page == :gap %>
                <span class="inline-flex items-center border-t-2 border-transparent px-4 pt-4 text-sm font-medium text-slate-500">...</span>
              <% end %>
            <% end %>
          </div>

          <div class="-mt-px flex w-0 flex-1 justify-end">
            <% if @pagy.next.present? %>
              <%= link_to pagy_url_for(@pagy, @pagy.next), class: "group inline-flex items-center border-t-2 border-transparent pt-4 pl-1 text-sm font-medium link-primary hover:border-pink-500" do %>
                Next
                <svg class="ml-3 h-5 w-5 fill-pink-500 group-hover:fill-pink-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/>
                </svg>
              <% end %>
            <% else %>
              <span class="select-none inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium text-pink-300">
                Next
                <svg class="ml-3 h-5 w-5 fill-pink-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                  <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/>
                </svg>
              </span>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </nav>
</section>
